<!DOCTYPE html>
<html lang="en"
    xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html">

    <ui:composition template="./template.xhtml">
        <ui:define name="content">
            <div class="page-header">
                <h1>List of activities</h1>
                <h:form id="dataAddForm" class="form-inline">
	                  <div class="form-group">
                    	<h:outputLabel value="Level: " /> 
                    	<h:selectOneMenu value="#{findActivities.selectedLevel}">
                    	    <f:selectItem itemValue="#{null}" itemLabel="--select--" noSelectOption="true"/> 
		 					<f:selectItem itemValue="ADVANCED"/>    
		 					<f:selectItem itemValue="INTERMEDIATE"/>  
		 					<f:selectItem itemValue="BEGINNER"/>       
		 				</h:selectOneMenu> 
                	</div>
                 <div class="text-right">
	                	<h:commandButton type="submit" class="btn btn-primary" action="#{findActivities.findactivity}" value="Find" />
	                </div>
            	</h:form>
            </div>
            <ui:fragment rendered="#{login.logged}">
       <div>
       <h:form>
                 <h:dataTable value="#{findActivities.activityList}" var="item" class="table table-striped table-condensed">
                    <h:column>
                      <f:facet name="header">
                      <h:outputText value="Picture"/>
                      </f:facet>
            			<img src="#{request.contextPath}/resources/img/#{item.picture}" style="width: 250px; height: 250px"/>
            		
            	    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Category"/>
                        </f:facet>
                        <h:outputText value="#{item.category.name}" />
                    </h:column>
                     <h:column>
                        <f:facet name="header">
                            <h:outputText value="Name"/>
                        </f:facet>
                        <h:outputText value="#{item.name}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Description"/>
                        </f:facet>
                        <h:outputText value="#{item.description}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Date"/>
                        </f:facet>
                        <h:outputText value="#{item.date}" >
                        	<f:convertDateTime pattern="dd-MM-yyyy" />
                       	</h:outputText>
                    </h:column>
                      <h:column>
                        <f:facet name="header">
                            <h:outputText value="Time"/>
                        </f:facet>
                        <h:outputText value="#{item.myT}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Level"/>
                        </f:facet>
                        <h:outputText value="#{item.level}" />
                    </h:column>
                     <h:column>
                        <f:facet name="header">
                            <h:outputText value="Vacancies"/>
                        </f:facet>
                        <h:outputText value="#{item.vacancies}" />
                    </h:column>
                     <h:column>
                        <f:facet name="header">
                            <h:outputText value="Trainer"/>
                        </f:facet>
                        <h:outputText value="#{item.trainer.id}" />
                     </h:column>
                      <h:column>
                     	
                            <h:commandLink action="#{register.registerInActivity}" onclick="ConfirmJoinActivity()">
                                <f:param name="activityId" value="#{item.activityId}" />
                                <f:param name="id" value="#{login.id}" />
                                <span class='glyphicon glyphicon-plus-sign' aria-hidden='true'></span>join activity
                            </h:commandLink>
                      </h:column>
                       
             
                </h:dataTable>
                </h:form>
            </div> 
            </ui:fragment>
        </ui:define>
    </ui:composition>
</html>