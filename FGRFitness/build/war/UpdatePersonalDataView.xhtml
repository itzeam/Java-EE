<!DOCTYPE html>
<html lang="en"
    xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html">

    <ui:composition template="./template.xhtml">
        <ui:define name="content">
            <div class="page-header">
                <h1>Update personal data</h1>
            </div>
            <ui:fragment rendered="#{!login.logged}">
                <meta http-equiv="refresh" content="4;URL='./loginView.xhtml'" />
                <div class="alert alert-warning" role="alert">
                    You need to be <strong>logged</strong>.
                </div>
            </ui:fragment>
            <ui:fragment rendered="#{login.logged}">
            <h:form id="dataAddForm" enctype="multipart/form-data">
                <div class="form-group">
                    <h:outputLabel value="Name" />
                    <h:inputText class="form-control" value="#{updateuser.name}" required="true" requiredMessage="Name required"/>
                </div>
                <div class="form-group">
                    <h:outputLabel value="Surname" />
                    <h:inputText class="form-control" value="#{updateuser.surname}" required="true" requiredMessage="Surname required"/>
                </div>
                <div class="form-group">
                    <h:outputLabel value="Phone" />
                    <h:inputText class="form-control" value="#{updateuser.phone}" required="true" requiredMessage="Phone required"/>
                </div>
                <div class="form-group">
                    <h:outputLabel value="Password" />
                    <h:inputSecret class="form-control" value="#{updateuser.password}" required="true" requiredMessage="Password required"/>
                </div>
                <div class="form-group">
                    <h:outputLabel value="Email" />
                    <h:inputText class="form-control" value="#{updateuser.email}" required="true" requiredMessage="Email required"/>
                </div>
                <div class="form-group">
                    <h:outputLabel value="Address" />
                    <h:inputText class="form-control" value="#{updateuser.address}" required="true" requiredMessage="Address required"/>
                </div>
                <div class="form-group">
                    <h:outputLabel value="Picture" />
                    <h:inputFile id="file" value="#{updateuser.file}"/>
                </div>
                <div class="text-right">
                <div class="btn-group text-right" role="group">
                    <h:link outcome="Welcome" class="btn btn-primary" value="back" />
                    <h:commandButton type="submit" class="btn btn-primary" action="#{updateuser.update}" value="update"  onclick="ConfirmSaveChanges()"/>
                </div></div>
            </h:form>
            </ui:fragment>
        </ui:define>
    </ui:composition>
</html>
